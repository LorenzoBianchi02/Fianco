- popcount, if not available keep track of number of pieces

- should free memory at some point